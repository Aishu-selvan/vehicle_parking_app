<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Spot Detail | Parking Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" />
</head>
<body>
  <div class="container mt-5" style="max-width: 500px;">
    <div class="card shadow p-4">

      <h5 class="mb-3">Lot: {{ lot.prime_location_name }}</h5>

      <div class="mb-3">
        <span class="badge {% if spot.status == 'A' %}bg-success{% else %}bg-danger{% endif %}">
          Spot #{{ spot.id }} - {% if spot.status == 'A' %}Available{% else %}Occupied{% endif %}
        </span>
      </div>

      {% if spot.status == 'A' %}
        <form method="post" novalidate>
          <div class="alert alert-warning">
            Are you sure you want to delete this available spot? This action cannot be undone.
          </div>
          <button type="submit" class="btn btn-danger me-2">Delete Spot</button>
          <a href="{{ url_for('admin.lots_panel') }}" class="btn btn-secondary">Back</a>
        </form>
      {% else %}
        <h6>User Details</h6>
        {% if user %}
          <ul class="list-unstyled mb-3">
            <li><strong>User ID:</strong> {{ user.id }}</li>
            <li><strong>Email:</strong> {{ user.username }}</li>
            <li><strong>Full Name:</strong> {{ user.full_name }}</li>
            {% if user.address %}
              <li><strong>Address:</strong> {{ user.address }}</li>
            {% endif %}
            {% if reservation and reservation.vehicle_number %}
              <li><strong>Vehicle Number:</strong> {{ reservation.vehicle_number }}</li>
            {% endif %}
          </ul>
        {% else %}
          <p class="text-warning">No active user found for this occupied spot.</p>
        {% endif %}
        <a href="{{ url_for('admin.lots_panel') }}" class="btn btn-secondary">Back</a>
      {% endif %}

    </div>
  </div>
</body>
</html>
